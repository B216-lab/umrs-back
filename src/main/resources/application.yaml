###################################### dev environment properties
spring:
    config.import: optional:file:.env[.properties]
    application.name: umrs-backend
    banner.location: banner.txt
    mail:
        host: ${MAIL_HOST:localhost}
        port: ${MAIL_PORT:1025}
        username: ${MAIL_USERNAME:app@umrs.ru}
        password: ${MAIL_PASSWORD:some-password}
        properties:
            mail.smtp.auth: ${MAIL_SMTP_AUTH:false}
            mail.smtp.starttls.enable: ${MAIL_SMTP_STARTTLS_ENABLE:false}
            mail.smtp.starttls.required: ${MAIL_SMTP_STARTTLS_REQUIRED:false}
            mail.smtp.ssl.trust: ${MAIL_SMTP_SSL_TRUST:localhost}
    docker:
        compose:
            file: compose-dev.yaml
    jpa:
        hibernate.ddl-auto: update
    datasource:
        url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:32779/mydatabase}
        username: ${SPRING_DATASOURCE_USERNAME:myuser}
        password: ${SPRING_DATASOURCE_PASSWORD:secret}
        driver-class-name: org.postgresql.Driver
    flyway:
        enabled: true
        url: ${spring.datasource.url}
        user: ${spring.datasource.username}
        password: ${spring.datasource.password}
    # Spring Data REST base path for rest repositories
    data.rest.base-path: /api/v1
    threads.virtual.enabled: true
    session:
        store-type: jdbc
        jdbc:
            initialize-schema: never  # Используем Flyway для миграций
        timeout: 30m  # Время жизни сессии (30 минут)

server:
    port: ${SERVER_PORT:8081}

logging:
    level:
        # root: DEBUG
        # com.myapp.service=INFO:
        org.hibernate.SQL: debug
        org.hibernate.type.descriptor.sql: trace
        org.springframework.security: DEBUG
    file.path: logs/myapp.log

springdoc:
    api-docs.path: /docs

app:
  admin:
    username: ${APP_ADMIN_USERNAME:admin@example.com}
    password: ${APP_ADMIN_PASSWORD:some-admin-password}
